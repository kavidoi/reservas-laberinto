<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva de Experiencia - Vinos Laberinto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/fonts.css">
    </head>
<body>

    <div class="container mt-5 form-container">
        <div class="form-background"></div>
        <div class="form-content p-4 rounded shadow bg-light">

            <div class="text-center mb-4">
                <img src="images/logo-vinos-laberinto.png" alt="Logo Vinos Laberinto" class="form-logo">
            </div>

            <div id="step-q1GJ" class="form-step">
                <h2 class="love-font-title">Reserva de Experiencia</h2>
                <hr>
                <div id="widget-oY8v-container" class="mb-3">
                    <label for="widget-oY8v" class="form-label fw-bold"><h4>Experiencias grupales</h4></label>
                    <p class="form-text">Selecciona una de las experiencias grupales disponibles.</p>
                    {/* Added select2-dropdown class */}
                    <select class="form-select select2-dropdown mb-2" id="widget-oY8v" style="width: 100%;">
                        {/* Options will be loaded via Select2 AJAX */}
                    </select>
                    <button type="button" class="btn btn-secondary btn-sm" id="btn-request-other-date">
                        Solicitar otra fecha
                    </button>
                 </div>
                <hr id="widget-2mrE">
                <div class="form-check form-switch mb-3">...</div>
                <div id="widget-3duJ-container" class="mb-3 d-none">...</div>
                 <div class="d-flex justify-content-end mt-4">
                    <button type="button" class="btn btn-primary" id="btn-q1gj-continue">
                        Continuar la reserva
                    </button>
                </div>
            </div>

             <div id="step-request-start" class="form-step d-none">
                <h2>Solicitar Nueva Fecha Grupal</h2>
                <hr>
                <div class="mb-3">
                    <label for="request-experience-type" class="form-label fw-bold">Tipo de Experiencia Grupal a Solicitar</label>
                    {/* Added select2-dropdown class */}
                    <select class="form-select select2-dropdown" id="request-experience-type" required style="width: 100%;">
                        {/* Options will be loaded via Select2 AJAX */}
                    </select>
                    <div class="invalid-feedback">Por favor selecciona un tipo de experiencia.</div>
                </div>
                <div class="alert alert-secondary small">... Rules text ...</div>
                 <div class="d-flex justify-content-between mt-4">
                    <button type="button" class="btn btn-outline-secondary" id="btn-request-cancel">Cancelar Solicitud</button>
                    <button type="button" class="btn btn-primary" id="btn-request-select-datetime">Seleccionar Fecha/Hora</button>
                </div>
            </div>

            <div id="step-request-select-datetime" class="form-step d-none">
                <h2>Seleccionar Fecha y Hora</h2>
                <hr>
                 <div class="alert alert-info small">Por favor, selecciona una fecha (Viernes-Domingo, 10+ días desde hoy) y una hora de inicio de las opciones disponibles.</div>
                 <div class="row g-3">
                    <div class="col-md-6 mb-3">
                        <label for="request-date" class="form-label fw-bold">Fecha<span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="request-date" placeholder="Selecciona una fecha..." required>
                         <div class="invalid-feedback">Por favor selecciona una fecha válida.</div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label fw-bold">Hora de Inicio deseada<span class="text-danger">*</span></label>
                         <div id="time-bubbles-container" class="d-flex flex-wrap gap-2">
                            {/* Use data-time in HH:MM format */}
                            <button type="button" class="btn btn-outline-primary btn-sm time-bubble" data-time="11:00">11:00 AM</button>
                            <button type="button" class="btn btn-outline-primary btn-sm time-bubble" data-time="11:30">11:30 AM</button>
                            <button type="button" class="btn btn-outline-primary btn-sm time-bubble" data-time="12:00">12:00 PM</button>
                            <button type="button" class="btn btn-outline-primary btn-sm time-bubble" data-time="12:30">12:30 PM</button>
                            <button type="button" class="btn btn-outline-primary btn-sm time-bubble" data-time="15:00">3:00 PM</button>
                            <button type="button" class="btn btn-outline-primary btn-sm time-bubble" data-time="15:30">3:30 PM</button>
                            <button type="button" class="btn btn-outline-primary btn-sm time-bubble" data-time="16:30">4:30 PM</button>
                         </div>
                         {/* Hidden input to store selected time for form submission */}
                         <input type="hidden" id="request-time-selected" required>
                         <div class="invalid-feedback">Por favor selecciona una hora de inicio.</div>
                         {/* Calculated End Time Display */}
                         <div class="mt-2">
                            <small class="text-muted">Hora de término estimada: <strong id="calculated-end-time">--:--</strong></small>
                         </div>
                    </div>
                 </div>
                 {/* REMOVED Name and Email Inputs */}
                 <div id="request-submission-error" class="alert alert-danger mt-3 d-none" role="alert"></div>
                 <div class="d-flex justify-content-between mt-4">
                    <button type="button" class="btn btn-outline-secondary" id="btn-request-datetime-back">Volver (Seleccionar Tipo)</button>
                    <button type="button" class="btn btn-success" id="submit-request-button">Enviar Solicitud de Fecha</button>
                </div>
            </div>

             <div id="step-request-confirm" class="form-step d-none">...</div>

            <div id="step-bSoz" class="form-step d-none">...</div>
            <div id="step-2sff" class="form-step d-none">...</div>
            <div id="step-qf5J" class="form-step d-none">...</div>
            <div id="step-checkout-placeholder" class="form-step d-none">...</div>
            <div id="step-gr5a" class="form-step d-none">...</div>
            <div id="subform-group-config" class="form-step d-none">...</div>
            <div id="subform-scheduling" class="form-step d-none">...</div>

        </div> </div> <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script> {/* Added jQuery (Select2 dependency) */}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script> {/* Added Select2 JS */}
    <script src="js/script.js"></script>
</body>
</html>